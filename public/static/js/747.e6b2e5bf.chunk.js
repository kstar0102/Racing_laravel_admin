"use strict";(self.webpackChunkreact_typscript_racing_site_frontend=self.webpackChunkreact_typscript_racing_site_frontend||[]).push([[747],{9205:(e,r,l)=>{l.d(r,{Z:()=>t});var a=l(2791),n=l(3636),i=l(4664),s=l(184);const t=e=>{let{columns_data:r,ranking_data:l}=e;const[t,d]=(0,a.useState)(),[c,o]=(0,a.useState)(!0),[h,_]=(0,a.useState)({pagination:{current:1,pageSize:10}});(0,a.useEffect)((()=>{o(!1),d(l)}),[l]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(n.Z,{columns:r,rowKey:e=>e.id,dataSource:t,pagination:h.pagination,loading:c,onChange:(e,r,a)=>{var n;_({pagination:e,filters:r,...a}),e.pageSize!==(null===(n=h.pagination)||void 0===n?void 0:n.pageSize)&&d([l])},locale:{emptyText:(0,s.jsx)(i.Z,{description:"\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093"})},scroll:{x:!0}})})}},7747:(e,r,l)=>{l.r(r),l.d(r,{default:()=>Z});var a=l(2791),n=l(9434),i=l(6303),s=l(834),t=l(3958),d=l(3825),c=l(992),o=l(899),h=l(1460),_=l(8900),u=l(5225),x=l(8434),g=l(9205),p=l(7689),j=l(184);const Z=()=>{const e=(0,n.I0)(),{race_management_data:r}=((0,p.s0)(),(0,n.v9)((e=>e.gradeReducer))),[l,Z]=(0,a.useState)(0),[f,m]=(0,a.useState)([]),[C,b]=(0,a.useState)(""),[v,y]=(0,a.useState)([]);console.log(f,"myRankingData"),(0,a.useEffect)((()=>{e({type:u.Z.GETGRADEMANAGEMENTDATA})}),[]),(0,a.useEffect)((()=>{r&&r.length>0&&m(r[0])}),[r]),(0,a.useEffect)((()=>{r&&r.length>0&&m(r[l])}),[l]);const k=e=>{Z(l+e)},w=[{title:"\u30ec\u30fc\u30b9\u540d",dataIndex:"rank",sorter:(e,r)=>e.rank-r.rank,width:"9%",render:(e,r)=>(0,j.jsx)("span",{children:r.race_managements.race_name})},{title:"\u25ce",dataIndex:"double_circle",sorter:(e,r)=>e.double_circle-r.double_circle,width:"8%",render:(e,r)=>(0,j.jsxs)("span",{children:[r.double_circle?(0,j.jsx)(i.Z,{circular:!0,color:"red",children:" \u7684"}):(0,j.jsx)(i.Z,{circular:!0,color:"blue",children:" \u4e0d"})," ",r.double_circles.name]})},{title:"\u25cb",dataIndex:"single_circle",sorter:(e,r)=>e.single_circle-r.single_circle,width:"8%",render:(e,r)=>(0,j.jsxs)("span",{children:[r.single_circle?(0,j.jsx)(i.Z,{circular:!0,color:"red",children:" \u7684"}):(0,j.jsx)(i.Z,{circular:!0,color:"blue",children:" \u4e0d"})," ",r.single_circles.name]})},{title:"\u25b2",dataIndex:"triangle",sorter:(e,r)=>e.triangle-r.triangle,width:"8%",render:(e,r)=>(0,j.jsxs)("span",{children:[r.triangle?(0,j.jsx)(i.Z,{circular:!0,color:"red",children:" \u7684"}):(0,j.jsx)(i.Z,{circular:!0,color:"blue",children:" \u4e0d"})," ",r.triangles.name]})},{title:"\u2606",dataIndex:"five_star",sorter:(e,r)=>e.five_star-r.five_star,width:"8%",render:(e,r)=>(0,j.jsxs)("span",{children:[r.five_star?(0,j.jsx)(i.Z,{circular:!0,color:"red",children:" \u7684"}):(0,j.jsx)(i.Z,{circular:!0,color:"blue",children:" \u4e0d"})," ",r.five_stars.name]})},{title:"\u7a74",dataIndex:"hole",sorter:(e,r)=>e.hole-r.hole,width:"8%",render:(e,r)=>(0,j.jsxs)("span",{children:[r.hole?(0,j.jsx)(i.Z,{circular:!0,color:"red",children:" \u7684"}):(0,j.jsx)(i.Z,{circular:!0,color:"blue",children:" \u4e0d"})," ",r.holes.name]})},{title:"\u6d88",dataIndex:"disappear",sorter:(e,r)=>e.disappear-r.disappear,width:"8%",render:(e,r)=>(0,j.jsxs)("span",{children:[r.disappear?(0,j.jsx)(i.Z,{circular:!0,color:"red",children:" \u7684"}):(0,j.jsx)(i.Z,{circular:!0,color:"blue",children:" \u4e0d"})," ",r.disappears.name]})}],[G,R]=(0,a.useState)(!1);return(0,j.jsx)("div",{className:"flex flex-col md:flex-row",children:(0,j.jsxs)("div",{className:"w-full lg:p-8",children:[(0,j.jsxs)("div",{className:"pb-5 flex justify-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(s.Z,{color:"blue",disabled:0===l,onClick:()=>k(-1),children:"\u524d\u3078"}),(0,j.jsx)(s.Z,{color:"red",disabled:l===r.length-1,onClick:()=>k(1),children:"\u6b21\u3078"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(t.Z,{icon:"search",placeholder:"\u691c\u7d22...",className:"w-full lg:w-96",onChange:e=>(e=>{if(b(e.target.value),""==e.target.value)y([]);else{const l=r.filter((r=>r.user_name.includes(e.target.value)));y(l)}})(e),value:C}),v.length?(0,j.jsx)("div",{className:"lg:w-96 w-full h-60 absolute overflow-y-scroll z-10 bg-purple-500",children:(0,j.jsx)(d.Z,{selection:!0,verticalAlign:"middle",inverted:!0,children:v.map(((e,l)=>(0,j.jsxs)(d.Z.Item,{onClick:()=>(e=>{let l;r.filter(((r,a)=>(r.id==e&&(l=a),r))),Z(l),b(""),y([])})(e.id),children:[(0,j.jsx)(c.Z,{avatar:!0,src:x.Gg+e.user_image_url}),(0,j.jsx)(d.Z.Content,{children:(0,j.jsx)(d.Z.Header,{children:e.user_name})})]},l)))})}):""]})]}),(0,j.jsxs)(o.Z,{raised:!0,style:{backgroundColor:"#f5deb3"},children:[(0,j.jsxs)("div",{className:"flex justify-center items-centser",children:[void 0!==f.user_image_url&&(0,j.jsx)("img",{src:x.Gg+f.user_image_url,width:"100px",style:{borderRadius:"50px"}}),void 0!==f.badge_grade&&(0,j.jsx)("img",{src:x.A7+x.dC[f.badge_grade],width:"100px",style:{borderRadius:"50px",marginLeft:"-60px"}})]}),(0,j.jsx)("div",{className:"flex justify-center pt-5",children:void 0!==f.badge_grade&&(0,j.jsx)(i.Z,{basic:!0,size:"big",color:"purple",children:f.user_name})}),(0,j.jsx)(h.Z,{info:!0,header:"\u3000\u53c2\u3000\u52a0\u3000\u56de\u3000\u6570\u3000\uff1a\u3000".concat(void 0!==f.times?f.times:0,"\u3000\u56de\u3000")}),(0,j.jsx)("div",{className:"mb-3 overflow-x-scroll",children:(0,j.jsxs)(_.Z,{celled:!0,unstackable:!0,compact:"very",children:[(0,j.jsx)(_.Z.Header,{children:(0,j.jsxs)(_.Z.Row,{children:[(0,j.jsx)(_.Z.HeaderCell,{}),(0,j.jsx)(_.Z.HeaderCell,{children:"Pt"}),(0,j.jsx)(_.Z.HeaderCell,{children:"\u25ce"}),(0,j.jsx)(_.Z.HeaderCell,{children:"\u3007"}),(0,j.jsx)(_.Z.HeaderCell,{children:"\u25b2"}),(0,j.jsx)(_.Z.HeaderCell,{children:"\u2606"}),(0,j.jsx)(_.Z.HeaderCell,{children:"\u7a74"}),(0,j.jsx)(_.Z.HeaderCell,{children:"\u6d88"}),(0,j.jsx)(_.Z.HeaderCell,{children:"\u5358\u7387"}),(0,j.jsx)(_.Z.HeaderCell,{children:"\u8907\u7387"})]})}),0!==f.length&&(0,j.jsxs)(_.Z.Body,{children:[(0,j.jsxs)(_.Z.Row,{children:[(0,j.jsx)(_.Z.Cell,{children:"\u6708\u9593"}),(0,j.jsxs)(_.Z.Cell,{children:[f.month_ranking_data.point,"pt"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.month_ranking_data.double_circle,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.month_ranking_data.single_circle,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.month_ranking_data.triangle,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.month_ranking_data.five_star,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.month_ranking_data.hole,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.month_ranking_data.disappear,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.month_ranking_data.single,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.month_ranking_data.multiple,"%"]})]}),(0,j.jsxs)(_.Z.Row,{children:[(0,j.jsx)(_.Z.Cell,{children:"\u5e74\u9593"}),(0,j.jsxs)(_.Z.Cell,{children:[f.year_ranking_data.point,"pt"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.year_ranking_data.double_circle,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.year_ranking_data.single_circle,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.year_ranking_data.triangle,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.year_ranking_data.five_star,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.year_ranking_data.hole,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.year_ranking_data.disappear,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.year_ranking_data.single,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.year_ranking_data.multiple,"%"]})]}),(0,j.jsxs)(_.Z.Row,{children:[(0,j.jsx)(_.Z.Cell,{children:"\u4e0a\u671f"}),(0,j.jsxs)(_.Z.Cell,{children:[f.first_half_year_ranking_data.point,"pt"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.first_half_year_ranking_data.double_circle,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.first_half_year_ranking_data.single_circle,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.first_half_year_ranking_data.triangle,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.first_half_year_ranking_data.five_star,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.first_half_year_ranking_data.hole,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.first_half_year_ranking_data.disappear,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.first_half_year_ranking_data.single,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.first_half_year_ranking_data.multiple,"%"]})]}),(0,j.jsxs)(_.Z.Row,{children:[(0,j.jsx)(_.Z.Cell,{children:"\u4e0b\u671f"}),(0,j.jsxs)(_.Z.Cell,{children:[f.second_half_year_ranking_data.point,"pt"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.second_half_year_ranking_data.double_circle,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.second_half_year_ranking_data.single_circle,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.second_half_year_ranking_data.triangle,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.second_half_year_ranking_data.five_star,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.second_half_year_ranking_data.hole,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.second_half_year_ranking_data.disappear,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.second_half_year_ranking_data.single,"%"]}),(0,j.jsxs)(_.Z.Cell,{children:[f.second_half_year_ranking_data.multiple,"%"]})]})]})]})}),(0,j.jsxs)("div",{className:"grid lg:grid-cols-4 gap-4 pb-5",children:[(0,j.jsxs)(i.Z,{color:"violet",horizontal:!0,size:"big",children:["\u5358\u52dd\u306e\u56de\u6570 : ",f.single_win,"\u56de"]}),(0,j.jsxs)(i.Z,{color:"teal",horizontal:!0,size:"big",children:["\u8907\u52dd\u306e\u56de\u6570 : ",f.double_win,"\u56de"]}),(0,j.jsxs)(i.Z,{color:"green",horizontal:!0,size:"big",children:["\u99ac\u9023\u306e\u56de\u6570 : ",f.horse_racing_win,"\u56de"]}),(0,j.jsxs)(i.Z,{color:"brown",horizontal:!0,size:"big",children:["\uff13\u9023\u8907\u306e\u56de\u6570 : ",f.triple_racing_win,"\u56de"]})]}),(0,j.jsx)(g.Z,{columns_data:w,ranking_data:f.total_ranking_data})]})]})})}},3958:(e,r,l)=>{l.d(r,{Z:()=>v});var a=l(7462),n=l(4578),i=l(3858),s=l(4210),t=l(8219),d=l(5355),c=l(4517),o=l(6992),h=l(8182),_=l(2791),u=l(6755),x=l(4267),g=l(7826),p=l(6246),j=l(5831),Z=l(1126),f=l(834),m=l(2836),C=l(6303),b=function(e){function r(){for(var l,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(l=e.call.apply(e,[this].concat(i))||this).inputRef=(0,_.createRef)(),l.computeIcon=function(){var e=l.props,r=e.loading,a=e.icon;return(0,c.Z)(a)?r?"spinner":void 0:a},l.computeTabIndex=function(){var e=l.props,r=e.disabled,a=e.tabIndex;return(0,c.Z)(a)?r?-1:void 0:a},l.focus=function(e){return l.inputRef.current.focus(e)},l.select=function(){return l.inputRef.current.select()},l.handleChange=function(e){var r=(0,d.Z)(e,"target.value");(0,t.Z)(l.props,"onChange",e,(0,a.Z)({},l.props,{value:r}))},l.handleChildOverrides=function(e,r){return(0,a.Z)({},r,e.props,{ref:function(r){(0,o.n)(e.ref,r),l.inputRef.current=r}})},l.partitionProps=function(){var e=l.props,n=e.disabled,i=e.type,s=l.computeTabIndex(),t=(0,u.Z)(r,l.props),d=(0,x.vR)(t),c=d[0],o=d[1];return[(0,a.Z)({},c,{disabled:n,type:i,tabIndex:s,onChange:l.handleChange,ref:l.inputRef}),o]},l}return(0,n.Z)(r,e),r.prototype.render=function(){var e=this,l=this.props,n=l.action,t=l.actionPosition,d=l.children,c=l.className,o=l.disabled,u=l.error,x=l.fluid,b=l.focus,v=l.icon,y=l.iconPosition,k=l.input,w=l.inverted,G=l.label,R=l.labelPosition,I=l.loading,N=l.size,z=l.transparent,P=l.type,H=(0,h.Z)("ui",N,(0,g.lG)(o,"disabled"),(0,g.lG)(u,"error"),(0,g.lG)(x,"fluid"),(0,g.lG)(b,"focus"),(0,g.lG)(w,"inverted"),(0,g.lG)(I,"loading"),(0,g.lG)(z,"transparent"),(0,g.cD)(t,"action")||(0,g.lG)(n,"action"),(0,g.cD)(y,"icon")||(0,g.lG)(v||I,"icon"),(0,g.cD)(R,"labeled")||(0,g.lG)(G,"labeled"),"input",c),S=(0,p.Z)(r,this.props),E=this.partitionProps(),A=E[0],T=E[1];if(!j.kK(d)){var D=(0,s.Z)(_.Children.toArray(d),(function(r){return"input"!==r.type?r:(0,_.cloneElement)(r,e.handleChildOverrides(r,A))}));return _.createElement(S,(0,a.Z)({},T,{className:H}),D)}var K=f.Z.create(n,{autoGenerateKey:!1}),M=C.Z.create(G,{defaultProps:{className:(0,h.Z)("label",(0,i.Z)(R,"corner")&&R)},autoGenerateKey:!1});return _.createElement(S,(0,a.Z)({},T,{className:H}),"left"===t&&K,"right"!==R&&M,(0,Z.MO)(k||P,{defaultProps:A,autoGenerateKey:!1}),m.Z.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==t&&K,"right"===R&&M)},r}(_.Component);b.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"],b.propTypes={},b.defaultProps={type:"text"},b.create=(0,Z.u5)(b,(function(e){return{type:e}}));const v=b}}]);
//# sourceMappingURL=747.e6b2e5bf.chunk.js.map