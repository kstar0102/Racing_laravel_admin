"use strict";(self.webpackChunkreact_typscript_racing_site_frontend=self.webpackChunkreact_typscript_racing_site_frontend||[]).push([[518],{4260:(e,a,l)=>{l.d(a,{Ab:()=>c,O$:()=>n,Pb:()=>r,ed:()=>i,ry:()=>t,tN:()=>s});const t=[{value:"00",label:"00"},{value:"05",label:"05"},{value:"10",label:"10"},{value:"15",label:"15"},{value:"20",label:"20"},{value:"25",label:"25"},{value:"30",label:"30"},{value:"35",label:"35"},{value:"40",label:"40"},{value:"45",label:"45"},{value:"50",label:"50"},{value:"55",label:"55"}],s=[{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"18",label:"18"},{value:"19",label:"19"},{value:"20",label:"20"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"23",label:"23"},{value:"00",label:"00"},{value:"01",label:"01"},{value:"02",label:"02"}],n=[{value:"1",label:"1\u6708"},{value:"2",label:"2\u6708"},{value:"3",label:"3\u6708"},{value:"4",label:"4\u6708"},{value:"5",label:"5\u6708"},{value:"6",label:"6\u6708"},{value:"7",label:"7\u6708"},{value:"8",label:"8\u6708"},{value:"9",label:"9\u6708"},{value:"10",label:"10\u6708"},{value:"11",label:"11\u6708"},{value:"12",label:"12\u6708"}],r=[{value:"1R",label:"1R"},{value:"2R",label:"2R"},{value:"3R",label:"3R"},{value:"4R",label:"4R"},{value:"5R",label:"5R"},{value:"6R",label:"6R"},{value:"7R",label:"7R"},{value:"8R",label:"8R"},{value:"9R",label:"9R"},{value:"10R",label:"10R"},{value:"11R",label:"11R"},{value:"12R",label:"12R"}],c=[{value:"0",label:"\u30e6\u30fc\u30b6\u30fc"},{value:"1",label:"\u7ba1\u7406\u8005"},{value:"2",label:"\u30b9\u30fc\u30d1\u30fc\u30e6\u30fc\u30b6\u30fc"}],i=e=>{for(let a=0;a<e.length;a++){const l=e[a];return!(e.filter((e=>e==l)).length>1)}}},5518:(e,a,l)=>{l.r(a),l.d(a,{default:()=>N});var t=l(2791),s=l(899),n=l(6303),r=l(3655),c=l(1678),i=l(3636),o=l(4664),d=l(1006),u=l(5535),m=l(834),p=l(1460),h=l(9434),v=l(1672),b=l(5985),x=(l(5462),l(4260)),Z=l(184);const{Text:f}=r.default,g=()=>{const e=[{title:"\u958b\u50ac\u65e5",dataIndex:"event_date",key:"event_date",width:"20%"},{title:"\u958b\u50ac\u5834\u6240",dataIndex:"event_place",key:"event_place",width:"10%",render:(e,a)=>(0,Z.jsx)("div",{children:(0,Z.jsx)(n.Z,{color:"purple",horizontal:!0,className:"cursor",style:{marginRight:15},children:a.places.name})})},{title:"Race",dataIndex:"race_number",key:"race_number"},{title:"\u30ec\u30fc\u30b9\u540d",dataIndex:"race_name",key:"race_name"},{title:"\u5099\u8003",dataIndex:"action",key:"action",width:"20%",render:(e,a)=>{let l=!0;return y.map((e=>{e.race_management_id==a.id&&(l=!1)})),(0,Z.jsxs)("div",{children:[(0,Z.jsx)(n.Z,{color:"red",horizontal:!0,className:"cursor",style:{marginRight:15},onClick:()=>S(a),children:"\u7de8 \u96c6"}),y.length?l?(0,Z.jsx)(c.Z,{status:"success",text:"\u4e88\u60f3\u5165\u529b"}):(0,Z.jsx)(c.Z,{status:"error",text:"\u4e88\u60f3\u5909\u66f4"}):(0,Z.jsx)(c.Z,{status:"success",text:"\u4e88\u60f3\u5165\u529b"})]})},ellipsis:!0}],[a,l]=(0,t.useState)(),[s,r]=(0,t.useState)(!1),[g,N]=(0,t.useState)({pagination:{current:1,pageSize:10}}),j=(0,h.I0)(),{expected_race_data:_,expected_battle_data:y,expected_race_status:R}=(0,h.v9)((e=>e.expectedReducer)),{userData:w}=(0,h.v9)((e=>e.authReducer)),[E,C]=(0,t.useState)(!1),[T,k]=(0,t.useState)(!1),[G,A]=(0,t.useState)([]),[D,z]=(0,t.useState)([0,0,0,0,0,0]),[P,K]=(0,t.useState)([!1,!1,!1,!1,!1,!1]);(0,t.useEffect)((()=>{r(!0),j({type:v.Z.GETEXPECTEDRACEDATA}),j({type:v.Z.GETEXPECTEDBATTLEDATA,payload:w.id})}),[]);const S=e=>{const a=new Date,[l,t,s]=e.event_date.split("-"),n=new Date(l,t-1,s,e.hour_data,e.minute_data);if(a>new Date(n.getTime()-12e4))b.Am.error("\u30ec\u30fc\u30b9\u304c\u59cb\u307e\u3063\u305f\u305f\u3081\u3001\u4e88\u60f3\u30d0\u30c8\u30eb\u5165\u529b\u304c\u3067\u304d\u307e\u305b\u3093\u3002");else{C(!0);const a=e.running_horses.map((e=>({value:e.id,label:e.name})));k(e),A(a);[...y].map((a=>a.race_management_id==e.id&&(z([a.double_circle,a.single_circle,a.triangle,a.five_star,a.hole,a.disappear]),!0)))}},I=()=>{C(!1),k(!1),z([0,0,0,0,0,0])};(0,t.useEffect)((()=>{_.length&&l(_)}),[_]),(0,t.useEffect)((()=>{R&&r(!1)}),[R]);const B=()=>{if((0,x.ed)(D)){const e={user_id:w.id,race_management_id:T.id,expected_battle_data:D};j({type:v.Z.CREATEEXPECTEDBATTLE,payload:e}),C(!1),k(!1),z([0,0,0,0,0,0]),K([!1,!1,!1,!1,!1,!1])}else b.Am.error("\u4e88\u60f3\u304c\u88ab\u3063\u3066\u3044\u307e\u3059\u3002")},L=(e,a)=>{const l=[...D];if(l.includes(a)){const a=P.map(((a,l)=>l==e));K(a),b.Am.error("\u4e88\u60f3\u304c\u88ab\u3063\u3066\u3044\u307e\u3059\u3002")}else K([!1,!1,!1,!1,!1,!1]),l[e]=a,z(l)};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(i.Z,{columns:e,rowKey:e=>e.id,dataSource:a,pagination:g.pagination,loading:s,onChange:(e,a,l)=>{N({pagination:e,filters:a,...l})},locale:{emptyText:(0,Z.jsx)(o.Z,{description:"\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093"})},scroll:{x:!0}})}),(0,Z.jsxs)(d.Z,{open:E,onCancel:I,closable:!1,footer:()=>(0,Z.jsxs)("div",{className:"w-full flex justify-center items-center",children:[(0,Z.jsx)("div",{className:"w-40 pr-6",children:(0,Z.jsx)(m.Z,{className:"w-full",secondary:!0,onClick:I,children:"\u30ad\xa0\u30e3\xa0\u30f3\xa0\u30bb\xa0\u30eb"})}),(0,Z.jsx)("div",{className:"w-40 pr-6",children:(0,Z.jsx)(m.Z,{className:"w-full",primary:!0,onClick:B,children:"\u767b\xa0\xa0\xa0\xa0\xa0\xa0\xa0\u9332"})})]}),children:[T&&(0,Z.jsx)(p.Z,{info:!0,header:"".concat(T.event_date.slice(5)," \xa0 ").concat(T.places.name," ").concat(T.race_number," \xa0 ").concat(T.race_name," \xa0 ").concat(T.hour_data," : ").concat(T.minute_data," \u767a\u8d70")}),(0,Z.jsxs)("div",{className:"flex items-center pt-5",children:[(0,Z.jsx)(n.Z,{color:"red",horizontal:!0,className:"w-24",children:"\u25ce :"}),(0,Z.jsx)(u.Z,{value:G.length&&(D[0]?D[0]:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),className:"w-full",onChange:e=>L(0,e),options:G})]}),P[0]&&(0,Z.jsx)(f,{type:"danger",className:"pl-24",children:"\u4e88\u60f3\u304c\u88ab\u3063\u3066\u3044\u307e\u3059\u3002"}),(0,Z.jsxs)("div",{className:"flex items-center pt-5",children:[(0,Z.jsx)(n.Z,{color:"red",horizontal:!0,className:"w-24",children:"\u25cb :"}),(0,Z.jsx)(u.Z,{value:G.length&&(D[1]?D[1]:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),className:"w-full",onChange:e=>L(1,e),options:G})]}),P[1]&&(0,Z.jsx)(f,{type:"danger",className:"pl-24",children:"\u4e88\u60f3\u304c\u88ab\u3063\u3066\u3044\u307e\u3059\u3002"}),(0,Z.jsxs)("div",{className:"flex items-center pt-5",children:[(0,Z.jsx)(n.Z,{color:"red",horizontal:!0,className:"w-24",children:"\u25b2 :"}),(0,Z.jsx)(u.Z,{value:G.length&&(D[2]?D[2]:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),className:"w-full",onChange:e=>L(2,e),options:G})]}),P[2]&&(0,Z.jsx)(f,{type:"danger",className:"pl-24",children:"\u4e88\u60f3\u304c\u88ab\u3063\u3066\u3044\u307e\u3059\u3002"}),(0,Z.jsxs)("div",{className:"flex items-center pt-5",children:[(0,Z.jsx)(n.Z,{color:"red",horizontal:!0,className:"w-24",children:"\u2606 :"}),(0,Z.jsx)(u.Z,{value:G.length&&(D[3]?D[3]:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),className:"w-full",onChange:e=>L(3,e),options:G})]}),P[3]&&(0,Z.jsx)(f,{type:"danger",className:"pl-24",children:"\u4e88\u60f3\u304c\u88ab\u3063\u3066\u3044\u307e\u3059\u3002"}),(0,Z.jsxs)("div",{className:"flex items-center pt-5",children:[(0,Z.jsx)(n.Z,{color:"red",horizontal:!0,className:"w-24",children:"\u7a74 :"}),(0,Z.jsx)(u.Z,{value:G.length&&(D[4]?D[4]:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),className:"w-full",onChange:e=>L(4,e),options:G})]}),P[4]&&(0,Z.jsx)(f,{type:"danger",className:"pl-24",children:"\u4e88\u60f3\u304c\u88ab\u3063\u3066\u3044\u307e\u3059\u3002"}),(0,Z.jsxs)("div",{className:"flex items-center pt-5",children:[(0,Z.jsx)(n.Z,{color:"red",horizontal:!0,className:"w-24",children:"\u6d88 :"}),(0,Z.jsx)(u.Z,{value:G.length&&(D[5]?D[5]:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),className:"w-full",onChange:e=>L(5,e),options:G})]}),P[5]&&(0,Z.jsx)(f,{type:"danger",className:"pl-24",children:"\u4e88\u60f3\u304c\u88ab\u3063\u3066\u3044\u307e\u3059\u3002"})]})]})},N=()=>(0,Z.jsxs)(s.Z,{raised:!0,style:{backgroundColor:"#f5deb3"},children:[(0,Z.jsx)("div",{className:"pb-3",children:(0,Z.jsx)(n.Z,{as:"a",color:"orange",ribbon:!0,children:"\u4e88 \u60f3 \u30d0 \u30c8 \u30eb"})}),(0,Z.jsx)(g,{})]})},1460:(e,a,l)=>{l.d(a,{Z:()=>_});var t=l(7462),s=l(4578),n=l(4517),r=l(8182),c=l(2791),i=l(7826),o=l(6755),d=l(6246),u=l(5831),m=l(1126),p=l(2836);function h(e){var a=e.children,l=e.className,s=e.content,n=(0,r.Z)("content",l),i=(0,o.Z)(h,e),m=(0,d.Z)(h,e);return c.createElement(m,(0,t.Z)({},i,{className:n}),u.kK(a)?s:a)}h.handledProps=["as","children","className","content"],h.propTypes={};const v=h;function b(e){var a=e.children,l=e.className,s=e.content,n=(0,r.Z)("header",l),i=(0,o.Z)(b,e),m=(0,d.Z)(b,e);return c.createElement(m,(0,t.Z)({},i,{className:n}),u.kK(a)?s:a)}b.handledProps=["as","children","className","content"],b.propTypes={},b.create=(0,m.u5)(b,(function(e){return{content:e}}));const x=b;var Z=l(4210);function f(e){var a=e.children,l=e.className,s=e.content,n=(0,r.Z)("content",l),i=(0,o.Z)(f,e),m=(0,d.Z)(f,e);return c.createElement(m,(0,t.Z)({},i,{className:n}),u.kK(a)?s:a)}f.handledProps=["as","children","className","content"],f.propTypes={},f.defaultProps={as:"li"},f.create=(0,m.u5)(f,(function(e){return{content:e}}));const g=f;function N(e){var a=e.children,l=e.className,s=e.items,n=(0,r.Z)("list",l),i=(0,o.Z)(N,e),m=(0,d.Z)(N,e);return c.createElement(m,(0,t.Z)({},i,{className:n}),u.kK(a)?(0,Z.Z)(s,g.create):a)}N.handledProps=["as","children","className","items"],N.propTypes={},N.defaultProps={as:"ul"},N.create=(0,m.u5)(N,(function(e){return{items:e}}));const j=N;var _=function(e){function a(){for(var a,l=arguments.length,t=new Array(l),s=0;s<l;s++)t[s]=arguments[s];return(a=e.call.apply(e,[this].concat(t))||this).handleDismiss=function(e){var l=a.props.onDismiss;l&&l(e,a.props)},a}return(0,s.Z)(a,e),a.prototype.render=function(){var e=this.props,l=e.attached,s=e.children,h=e.className,b=e.color,Z=e.compact,f=e.content,g=e.error,N=e.floating,_=e.header,y=e.hidden,R=e.icon,w=e.info,E=e.list,C=e.negative,T=e.onDismiss,k=e.positive,G=e.size,A=e.success,D=e.visible,z=e.warning,P=(0,r.Z)("ui",b,G,(0,i.lG)(Z,"compact"),(0,i.lG)(g,"error"),(0,i.lG)(N,"floating"),(0,i.lG)(y,"hidden"),(0,i.lG)(R,"icon"),(0,i.lG)(w,"info"),(0,i.lG)(C,"negative"),(0,i.lG)(k,"positive"),(0,i.lG)(A,"success"),(0,i.lG)(D,"visible"),(0,i.lG)(z,"warning"),(0,i.sU)(l,"attached"),"message",h),K=T&&c.createElement(p.Z,{name:"close",onClick:this.handleDismiss}),S=(0,o.Z)(a,this.props),I=(0,d.Z)(a,this.props);return u.kK(s)?c.createElement(I,(0,t.Z)({},S,{className:P}),K,p.Z.create(R,{autoGenerateKey:!1}),(!(0,n.Z)(_)||!(0,n.Z)(f)||!(0,n.Z)(E))&&c.createElement(v,null,x.create(_,{autoGenerateKey:!1}),j.create(E,{autoGenerateKey:!1}),(0,m.BU)(f,{autoGenerateKey:!1}))):c.createElement(I,(0,t.Z)({},S,{className:P}),K,s)},a}(c.Component);_.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"],_.propTypes={},_.Content=v,_.Header=x,_.List=j,_.Item=g},4210:(e,a,l)=>{l.d(a,{Z:()=>o});var t=l(6754),s=l(8619),n=l(5809),r=l(2104);const c=function(e,a){var l=-1,t=(0,r.Z)(e)?Array(e.length):[];return(0,n.Z)(e,(function(e,s,n){t[++l]=a(e,s,n)})),t};var i=l(8567);const o=function(e,a){return((0,i.Z)(e)?t.Z:c)(e,(0,s.Z)(a,3))}}}]);
//# sourceMappingURL=518.f99610f9.chunk.js.map